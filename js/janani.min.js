// noConflict wrapper as suggested by the Codex
// http://codex.wordpress.org/Function_Reference/wp_enqueue_script#jQuery_noConflict_Wrappers


jQuery(document).ready(function($) {

    function trigger_tinynav() {
        var viewportWidth = $(window).width();
        var tinyNav = $('.tinynav');
        var topMenu = $('.top-menu');
        if (viewportWidth >= 770) {
            tinyNav.css({
                "display": "none"
            });
            topMenu.css({
                "display": "block"
            });
        } else if (viewportWidth < 770) {
            tinyNav.css({
                "display": "block"
            });
            topMenu.css({
                "display": "none"
            });
        }
    }

    /**
     * JavaScript is defined
     */
    $("html").removeClass("no-js").addClass("js");


    /**
     * Responsive layout, resizing the items
     */
    $('#carou-fred-sel').carouFredSel({
        responsive: true,
        width: '100%',
        prev: '#venture-prev',
        next: '#venture-next',
        items: {
            width: 300,
            //	height: '30%',	//	optionally resize item-height
            visible: {
                min: 1,
                max: 6
            }
        },
        scroll: {
            items: 1,
            pauseOnHover: true
        }
    });

    /**
     * Toggle Contact Form
     */
    var contact_section = $('section.contact-section');
    $('body.page-template-template-contact-php h2.page-title').append('<button class="quick-feedback-btn">QUICK FEEDBACK</button>');
    contact_section.css('display', 'none'); //make the form invisible
    var btn = $('button.quick-feedback-btn');
    btn.on('click', function() {
        contact_section.toggle('slow');
    });


    /**
     * TinyNav Scripts
     * trigger the whole menu using CSS
     */
    $(".top-menu").tinyNav({
        active: 'selected', // String: Set the "active" class
        header: 'Navigate Site', // String: Specify text for "header" and show header instead of the active item
        indent: '- ', // String: Specify text for indenting sub-items
        label: '' // String: Sets the <label> text for the <select> (if not set, no label will be added
    });

    trigger_tinynav();
    $(window).resize(function() {
        trigger_tinynav();
    });


});